import{E as S}from"./engine-23af3b94.js";let w=()=>{},k={};function M(i,...e){(k[i]||[]).map(t=>t(...e))}let r,h,g={get(i,e){return e=="_proxy"?!0:w}};function A(){return h}function F(i,{contextless:e=!1}={}){if(r=document.getElementById(i)||i||document.querySelector("canvas"),e&&(r=r||new Proxy({},g)),!r)throw Error("You must provide a canvas element for the game");return h=r.getContext("2d")||new Proxy({},g),h.imageSmoothingEnabled=!1,M("init"),{canvas:r,context:h}}function L(i){let e=i.canvas;i.clearRect(0,0,e.width,e.height)}function b({fps:i=60,clearCanvas:e=!0,update:t=w,render:n,context:s=A(),blur:d=!1}={}){if(!n)throw Error("You must provide a render() function");let o=0,a=1e3/i,u=1/i,v=e?L:w,c,y,f,m,l,p=!0;d||(window.addEventListener("focus",()=>{p=!0}),window.addEventListener("blur",()=>{p=!1}));function x(){if(y=requestAnimationFrame(x),!!p&&(f=performance.now(),m=f-c,c=f,!(m>1e3))){for(M("tick"),o+=m;o>=a;)l.update(u),o-=a;v(s),l.render()}}return l={update:t,render:n,isStopped:!0,start(){c=performance.now(),this.isStopped=!1,requestAnimationFrame(x)},stop(){this.isStopped=!0,cancelAnimationFrame(y)},_frame:x,set _last(E){c=E}},l}class z extends S{constructor(){super()}init(){if(super.init(),this.canvas.innerHTML="",window.cancelAnimationFrame(this.request),!this.loop){const{context:n}=F();this.ctx=n,this.ctx.strokeStyle="white",this.ctx.lineWidth=1}this.type==="fill"&&(this.ctx.strokeStyle="black",this.ctx.fillStyle="white");const e=new Array(this.count),t=[1,-1];for(let n=0;n<this.count;n++){const s=10+Math.random()*80,d=Math.random()*this.width,o=Math.random()*(this.height-s),[a,u]=[3*Math.random()*t[Math.floor(Math.random()*2)],3*Math.random()*t[Math.floor(Math.random()*2)]];e[n]={x:d,y:o,size:s,dx:a,dy:u}}this.particles=e}render(){this.loop||(this.loop=b({update:()=>{for(let e=0;e<this.count;e++){const t=this.particles[e];t.x-=t.dx,t.y-=t.dy,t.x+t.size<0?t.dx*=-1:t.y+t.size<0&&(t.dy*=-1),t.x>this.width?t.dx*=-1:t.y>this.height&&(t.dy*=-1)}this.fpsmeter.tick()},render:()=>{for(let e=0;e<this.count;e++){const t=this.particles[e];this.ctx.beginPath(),this.ctx.arc(t.x,t.y,t.size,0,2*Math.PI),this.type==="fill"&&this.ctx.fill(),this.ctx.stroke()}}}),this.loop.start())}}document.addEventListener("DOMContentLoaded",()=>{new z().render()});
